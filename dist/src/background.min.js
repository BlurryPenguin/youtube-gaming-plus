function saveDataGroup(a,t){chrome.storage.sync.set(a,function(){t(a)})}function saveData(a,t,e,n){var s={};void 0!==n&&n===!0?s[a]=JSON.stringify(t):s[a]=t,saveDataGroup(s,function(a){e(null===a?!1:!0)})}function loadDataGroup(a,t){chrome.storage.sync.get(a,t)}function loadData(a,t,e){loadDataGroup(a,function(n){e(null===n?t:void 0!==n[a]&&null!==n[a]?n[a]:t)})}function sendMessage(a){chrome.tabs.query({active:!0,currentWindow:!0},function(t){const e=t[0];chrome.tabs.sendMessage(e.id,a)})}function injectAngular(a){needsAngular&&(needsAngular=!1,chrome.tabs.executeScript(a,{code:'window.name = "NG_DEFER_BOOTSTRAP!" + window.name;'},function(){chrome.tabs.executeScript(a,{file:"utils/angular-1.4.5.min.js"},function(){chrome.tabs.executeScript(a,{file:"chatAddons.min.js"})})}))}var needsAngular=!0;chrome.tabs.onUpdated.addListener(function(a,t,e){t&&"complete"===t.status&&chrome.tabs.sendMessage(a,{type:"smashcast+",system:"background",action:"tab_change"})}),chrome.runtime.onMessageExternal.addListener(function(a,t,e){var n=a;n.success=!0,e(n)}),chrome.browserAction.onClicked.addListener(function(a){chrome.tabs.create({url:chrome.extension.getURL("../settings.min.html")})}),chrome.runtime.onMessage.addListener(function(a,t,e){a.type&&"smashcast+"===a.type&&a.system&&"background"===a.system&&(a.action&&"loadData"===a.action&&a.data?loadData(a.data,function(a){e(a),sendMessage({type:"smashcast+",system:"background",action:"loadData",data:a})}):a.action&&"saveData"===a.action&&a.data?saveData(a.data,function(a){e(a),sendMessage({type:"smashcast+",system:"background",action:"saveData",data:a})}):a.action&&"loadTheme"===a.action&&sendMessage({type:"smashcast+",system:"background",action:"loadTheme"}))});var port=chrome.runtime.connect();port.onMessage.addListener(function(a,t,e){a.type&&"smashcast+"===a.type&&a.system&&"background"===a.system&&(a.action&&"loadData"===a.action&&a.data?loadData(a.data,function(a){e(a),sendMessage({type:"smashcast+",system:"background",action:"loadData",data:a})}):a.action&&"saveData"===a.action&&a.data?saveData(a.data,function(a){e(a),sendMessage({type:"smashcast+",system:"background",action:"saveData",data:a})}):a.action&&"loadTheme"===a.action&&sendMessage({type:"smashcast+",system:"background",action:"loadTheme"}))}),chrome.runtime.onInstalled.addListener(function(a){"install"===a.reason&&chrome.tabs.create({url:chrome.extension.getURL("settings.html")})});var plugin=document.createElement("embed");plugin.setAttribute("type","application/x-npapifileioforchrome"),plugin.setAttribute("height","0"),plugin.setAttribute("width","0"),document.documentElement.appendChild(plugin);